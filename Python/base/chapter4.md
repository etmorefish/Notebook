# 第4章：函数与模块

## 1. 函数的定义与调用

### 1.1 什么是函数？

函数是用于组织代码块的基本单位，可以执行特定任务或计算并返回结果。通过将代码封装在函数中，可以提高代码的可重用性和可读性。

### 1.2 定义函数

在 Python 中，使用 `def` 关键字来定义一个函数。函数定义的基本语法如下：

```python
def 函数名(参数列表):
    """函数的文档字符串"""
    函数体
    return 返回值
```

例如，定义一个简单的求和函数：

```python
def add_numbers(a, b):
    """返回两个数字的和"""
    return a + b
```

### 1.3 调用函数

定义函数后，可以通过函数名加上括号和参数来调用它。例如：

```python
result = add_numbers(3, 5)
print(result)  # 输出: 8
```

### 1.4 函数的作用

- **简化代码**：通过函数将重复的代码封装起来，使得代码更简洁。
- **提高代码的可重用性**：一次定义函数，可以在多个地方调用，提高代码的复用性。
- **提高代码的可读性**：函数将复杂的操作封装在内部，使得代码结构更加清晰。

## 2. 参数传递与返回值

### 2.1 参数传递

函数可以接收输入参数，这些参数可以在函数内部使用。参数传递的方式有以下几种：

- **位置参数**：按参数位置传递。
- **关键字参数**：按参数名传递。
- **默认参数**：为参数设置默认值，当调用时不传递参数时使用默认值。
- **可变参数**：可以传递不定数量的参数，如 `*args` 和 `**kwargs`。

例如，使用位置参数和默认参数的函数：

```python
def greet(name, message="Hello"):
    return f"{message}, {name}!"

print(greet("Alice"))  # 输出: Hello, Alice!
print(greet("Bob", "Good morning"))  # 输出: Good morning, Bob!
```

### 2.2 返回值

函数可以返回计算结果或其他信息，使用 `return` 语句返回值。如果函数没有 `return` 语句，默认返回 `None`。

例如，返回两个数的乘积：

```python
def multiply(a, b):
    return a * b

result = multiply(4, 5)
print(result)  # 输出: 20
```

## 3. 内置函数和模块的使用

### 3.1 常用内置函数

Python 提供了丰富的内置函数，以下是一些常用的内置函数：

- `len()`：返回对象的长度。
- `max()` 和 `min()`：返回最大值和最小值。
- `sum()`：返回数值序列的和。
- `type()`：返回对象的类型。

例如，使用 `len()` 计算列表长度：

```python
numbers = [1, 2, 3, 4, 5]
print(len(numbers))  # 输出: 5
```

### 3.2 使用模块

Python 通过模块提供了更多功能，常用模块包括 `math` 和 `random`。在使用模块前，需要先导入模块：

```python
import math
import random
```

#### 3.2.1 `math` 模块

`math` 模块提供了数学运算函数，如：

- `math.sqrt(x)`：计算平方根。
- `math.factorial(x)`：计算阶乘。
- `math.pi`：圆周率常量。

例如，计算 16 的平方根：

```python
import math

print(math.sqrt(16))  # 输出: 4.0
```

#### 3.2.2 `random` 模块

`random` 模块用于生成随机数和执行随机操作，如：

- `random.randint(a, b)`：返回 [a, b] 范围内的随机整数。
- `random.choice(seq)`：从序列中随机选择一个元素。
- `random.shuffle(seq)`：随机打乱序列的顺序。

例如，生成 1 到 10 之间的随机整数：

```python
import random

print(random.randint(1, 10))  # 输出: 1 到 10 之间的随机整数
```

## 总结

掌握函数的定义与调用、参数传递与返回值以及内置函数和模块的使用是 Python 编程的重要基础。这一章内容将帮助你编写更简洁、可读性更高的代码，提高编程效率。

# 课后练习题

## 1. 基本函数练习

1.1 定义一个函数 `is_even`，接收一个整数参数，返回 `True` 如果该数字是偶数，否则返回 `False`。并编写几个测试用例来验证函数的正确性。

1.2 编写一个函数 `calculate_area`，它接收一个参数 `radius`，表示圆的半径，并返回圆的面积（使用 `math` 模块中的 `math.pi` 和 `math.pow()` 函数）。

1.3 创建一个函数 `print_uppercase`，接收一个字符串参数，并打印该字符串的所有字母的大写形式。例如，传入 "hello" 应输出 "HELLO"。

## 2. 参数传递与返回值

2.1 编写一个函数 `add_and_multiply`，它接收三个参数 `a`、`b` 和 `c`，返回 `(a + b) * c` 的结果。请测试函数并验证结果是否正确。

2.2 编写一个函数 `swap_values`，接收两个参数 `a` 和 `b`，交换它们的值并返回。验证函数是否能够正确交换传入的数值。

2.3 定义一个函数 `find_max_min`，接收一个列表作为参数，返回该列表中的最大值和最小值。使用 `max()` 和 `min()` 函数实现。

## 3. 数据类型转换与内置函数

3.1 编写一个函数 `string_to_int_list`，接收一个由数字组成的字符串，并将其转换为一个整数列表。例如，传入 "12345" 应返回 `[1, 2, 3, 4, 5]`。

3.2 定义一个函数 `remove_duplicates`，接收一个列表，返回一个没有重复元素的新列表（使用 `set()` 进行转换）。

3.3 使用 `help()` 函数，查看并阅读以下内置函数的帮助文档：`int()`、`float()`、`str()`、`list()`。简要总结这些函数的作用。

## 4. 模块使用

4.1 使用 `random` 模块编写一个函数 `generate_random_password`，它接收一个整数 `length`，返回一个随机生成的密码，密码由字母和数字组成。

4.2 使用 `math` 模块编写一个函数 `calculate_hypotenuse`，接收两个参数 `a` 和 `b`，表示直角三角形的两条直角边，返回斜边的长度。

4.3 试着创建一个自己的模块 `my_module.py`，在其中定义一个简单的函数 `greet`，接受一个名字参数并返回问候语。在另一个 Python 文件中导入并使用这个模块。

## 5. 综合应用

5.1 编写一个函数 `calculate_statistics`，接收一个列表，返回列表的长度、最大值、最小值、平均值（可以使用内置函数 `len()`、`max()`、`min()` 和自定义的求平均值函数）。

5.2 编写一个函数 `is_palindrome`，判断一个字符串是否是回文。回文是指正着读和反着读都一样的字符串（如 "radar" 或 "level"）。使用字符串切片和 `str()` 类型转换来完成此任务。

5.3 编写一个函数 `random_choice_from_list`，接收一个列表，随机选择并返回其中一个元素。使用 `random.choice()` 函数实现。
